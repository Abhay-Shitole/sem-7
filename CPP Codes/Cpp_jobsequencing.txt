#include <iostream>
#include <algorithm>
using namespace std;

struct Job {
    char id;        // Job ID
    int deadline;   // Deadline
    int profit;     // Profit
};

// Compare function to sort jobs by profit in descending order
bool compare(Job a, Job b) {
    return a.profit > b.profit;
}

int main() {
    int n;
    cout << "Enter number of jobs: ";
    cin >> n;

    Job jobs[n];
    cout << "Enter Job ID, Deadline, Profit for each job:\n";
    for (int i = 0; i < n; i++) {
        cin >> jobs[i].id >> jobs[i].deadline >> jobs[i].profit;
    }

    // Step 1: Sort jobs in decreasing order of profit
    sort(jobs, jobs + n, compare);

    // Step 2: Find max deadline
    int maxDeadline = 0;
    for (int i = 0; i < n; i++) {
        if (jobs[i].deadline > maxDeadline)
            maxDeadline = jobs[i].deadline;
    }

    // Step 3: Create time slots
    bool slot[maxDeadline + 1] = {false};
    char result[maxDeadline + 1];

    int totalProfit = 0;

    // Step 4: Assign jobs to free slots
    for (int i = 0; i < n; i++) {
        // Find a free slot for this job (latest possible)
        for (int j = jobs[i].deadline; j > 0; j--) {
            if (!slot[j]) {
                slot[j] = true;
                result[j] = jobs[i].id;
                totalProfit += jobs[i].profit;
                break;
            }
        }
    }

    // Step 5: Display result
    cout << "\nOptimal Job Sequence: ";
    for (int i = 1; i <= maxDeadline; i++) {
        if (slot[i])
            cout << result[i] << " ";
    }

    cout << "\nTotal Profit: " << totalProfit << endl;

    return 0;
}
/* Theory
1ï¸âƒ£ Problem Statement

You are given a set of n jobs.
Each job has:

an ID (e.g., J1, J2, J3â€¦)

a deadline (time by which it must be completed)

a profit (earned if the job is finished before or on its deadline)

ðŸ‘‰ Objective:
Schedule the jobs in such a way that maximum profit is obtained and each job takes 1 unit of time.

2ï¸âƒ£ Example
Job	Deadline	Profit
J1	2	100
J2	1	19
J3	2	27
J4	1	25
J5	3	15

âœ… Goal: Find the job sequence that maximizes profit.

3ï¸âƒ£ Greedy Strategy

Sort all jobs in decreasing order of profit.
â†’ Because we want to earn the highest profit first.

Schedule each job in the latest available time slot (â‰¤ its deadline).
â†’ This ensures more slots remain open for other jobs.

If no slot is free before its deadline, skip that job.

4ï¸âƒ£ Time Complexity

Sorting: O(n log n)

Scheduling: O(nÂ²) (in basic version)

âœ… Overall Complexity: O(nÂ²)*/